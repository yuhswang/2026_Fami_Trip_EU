<!DOCTYPE html>
<html lang="zh-TW">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <title>2026 æ­æ´²å®¶æ—æ—…éŠ</title>

        <script src="https://cdn.tailwindcss.com"></script>

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

        <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&display=swap" rel="stylesheet">

        <script>
            tailwind.config = {
                theme: {
                    extend: {
                        colors: {
                            euro: {
                                bg: '#FDFCF8', // æš–å¥¶æ²¹ç™½
                                card: '#FFFFFF', // ç´”ç™½
                                text: '#3D3D3D', // æ·±ç°
                                primary: '#5F6F52', // é¼ å°¾è‰ç¶ 
                                secondary: '#A98467', // çš®é©æ£•
                                light: '#EFEAD8', // æ·ºå¡å…¶
                                link: '#d97706', // é€£çµè‰²(ç¥ç€)
                                accent: '#C75B5B', // è­¦ç¤ºç´…
                            }
                        },
                        fontFamily: {
                            serif: [
                                '"Playfair Display"', 'serif'
                            ],
                            sans: ['"Noto Sans TC"', 'sans-serif']
                        }
                    }
                }
            }
        </script>

        <style>
            body {
                background-color: #FDFCF8;
                color: #3D3D3D;
                font-family: 'Noto Sans TC', sans-serif;
                -webkit-tap-highlight-color: transparent;
                padding-bottom: 90px;
                /* Space for bottom nav */
            }

            h1,
            h2,
            h3,
            .serif-font {
                font-family: 'Playfair Display', serif;
                font-family: 'Noto Sans TC', sans-serif;
            }

            .title-text {
                font-family: 'Noto Sans TC', sans-serif;
                font-weight: 700;
            }

            .no-scrollbar::-webkit-scrollbar {
                display: none;
            }

            .no-scrollbar {
                -ms-overflow-style: none;
                scrollbar-width: none;
            }

            .tab-content {
                display: none;
                animation: fadeIn 0.4s ease-out;
            }

            .tab-content.active {
                display: block;
            }

            @keyframes fadeIn {
                from {
                    opacity: 0;
                    transform: translateY(8px);
                }

                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            .nav-item.active {
                color: #5F6F52;
            }

            .nav-item.active span {
                font-weight: 700;
            }

            .euro-shadow {
                box-shadow: 0 6px 20px -4px rgba(95, 111, 82, 0.15);
            }

            /* Modal */
            .modal {
                transition: opacity 0.3s ease-in-out;
                opacity: 0;
                pointer-events: none;
            }

            .modal.open {
                opacity: 1;
                pointer-events: auto;
            }

            .modal-content {
                transform: scale(0.95);
                transition: transform 0.3s ease-in-out;
            }

            .modal.open .modal-content {
                transform: scale(1);
            }

            /* Custom Bullet Points */
            .check-list li {
                position: relative;
                padding-left: 1.5rem;
                margin-bottom: 0.5rem;
            }

            .check-list li::before {
                content: '\f00c';
                font-family: "Font Awesome 6 Free";
                font-weight: 900;
                position: absolute;
                left: 0;
                color: #A98467;
            }
        </style>
    </head>

    <body class="antialiased min-h-screen relative selection:bg-euro-primary selection:text-white">

        <header class="bg-euro-bg/95 backdrop-blur-md sticky top-0 z-40 px-5 py-4 flex justify-between items-end border-b border-euro-light shadow-sm">
            <div>
                <h1 class="text-2xl font-bold text-euro-primary italic serif-font">Europe 2026</h1>
                <p class="text-sm text-euro-secondary tracking-widest mt-1">å¾·å¥§æ·åŒˆ â€¢ æ˜¥ç¯€æ—…éŠ</p>
            </div>
            <div class="text-right">
                <span id="headerDate" class="text-sm text-gray-400 font-medium"></span>
            </div>
        </header>

        <main class="p-4 max-w-lg mx-auto">

            <div id="tab-flight" class="tab-content">
                <h2 class="text-2xl font-bold text-center mb-6 text-euro-primary title-text">èˆªç­è³‡è¨Š</h2>

                <div class="bg-white rounded-xl overflow-hidden euro-shadow mb-8">
                    <div class="bg-euro-secondary p-3 text-white flex justify-between items-center">
                        <span class="font-bold">
                            <i class="fas fa-plane-departure mr-2"></i>å»ç¨‹ (2/11)</span>
                        <span class="text-xs bg-white/20 px-2 py-1 rounded">ç´„ 17h</span>
                    </div>

                    <div class="p-5 border-b border-gray-100">
                        <div class="relative pl-6 pb-6 border-l-2 border-gray-200">
                            <div class="absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-euro-primary border-2 border-white"></div>
                            <div class="flex justify-between mb-1">
                                <span class="font-bold text-xl">07:50 TPE</span>
                                <span class="text-gray-500 font-mono">CI 169</span>
                            </div>
                            <div class="text-sm text-gray-500">TPE T1
                                <i class="fas fa-long-arrow-alt-right mx-2"></i>
                                ICN
                                                                                            T2</div>
                        </div>
                        <div class="relative pl-6 pb-6 border-l-2 border-dashed border-gray-300">
                            <div class="absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-yellow-400 border-2 border-white"></div>
                            <div class="text-sm font-bold text-euro-secondary">ä»å· (ICN) è½‰æ©Ÿ 2h 10m</div>
                        </div>
                        <div class="relative pl-6 border-l-2 border-gray-200">
                            <div class="absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-euro-primary border-2 border-white"></div>
                            <div class="flex justify-between mb-1">
                                <span class="font-bold text-xl">13:30 ICN</span>
                                <span class="text-gray-500 font-mono">LH 719</span>
                            </div>
                            <div class="text-sm text-gray-500">ICN T1
                                <i class="fas fa-long-arrow-alt-right mx-2"></i>
                                MUC
                                                                                            T2</div>
                        </div>
                    </div>

                    <div class="bg-gray-50 p-5 space-y-4">
                        <div class="bg-white p-4 rounded-lg border border-gray-100 shadow-sm">
                            <h4 class="font-bold text-euro-primary mb-2 text-sm">
                                <i class="fas fa-exchange-alt mr-2"></i>ä»å·è½‰æ©Ÿæ”»ç•¥</h4>
                            <ul class="text-xs text-gray-600 space-y-1 list-disc list-inside">
                                <li>
                                    <strong>è½‰æ©Ÿï¼š</strong>
                                    <a href='https://www.airport.kr/ap_ch/1659/subview.do' target='_blank' class='text-euro-secondary underline hover:text-euro-primary'>ä»å·æ©Ÿå ´è½‰æ©ŸæŒ‡å—</a>
                                </li>
                                <li>
                                    <strong>å®‰æª¢ï¼š</strong>è½‰æ©Ÿéœ€å†æ¬¡é€šéå®‰æª¢ï¼Œæ°´éœ€å€’æ‰ã€‚</li>
                                <li>
                                    <strong>è¨­æ–½ï¼š</strong>T2 è¨­æœ‰å…è²»æ·‹æµ´é–“ã€Nap Zone (èººæ¤…ä¼‘æ¯å€)ã€‚</li>
                                <li>
                                    <strong>é«”é©—ï¼š</strong>éŸ“åœ‹æ–‡åŒ–é«”é©—é¤¨å¯å…è²»åšæ‰‹å·¥è—ã€‚</li>
                            </ul>
                        </div>
                        <div class="bg-white p-4 rounded-lg border border-gray-100 shadow-sm">
                            <h4 class="font-bold text-euro-primary mb-2 text-sm">
                                <i class="fas fa-subway mr-2"></i>æ…•å°¼é»‘æ©Ÿå ´
                                                                                                    (MUC) å…¥å¢ƒ</h4>
                            <ul class="text-xs text-gray-600 space-y-1 list-disc list-inside">
                                <li>
                                    <strong>ç‰¹è‰²ï¼š</strong>ä¸–ç•Œå”¯ä¸€è¨­æœ‰é‡€é…’å» çš„æ©Ÿå ´ (AirbrÃ¤u)ã€‚</li>
                                <li>
                                    <strong>äº¤é€šï¼š</strong>å‡ºé—œå¾Œè·Ÿè‘—ç¶ è‰²
                                    <span class="bg-green-600 text-white px-1 rounded text-[10px]">S</span>
                                    (S-Bahn) æŒ‡æ¨™ã€‚</li>
                                <li>
                                    <strong>è·¯ç·šï¼š</strong>æ­ä¹˜
                                    <strong>S1</strong>
                                    æˆ–
                                    <strong>S8</strong>
                                    ç·šçš†å¯æŠµé”ä¸­å¤®è»Šç«™
                                                                                                        (Hauptbahnhof)ï¼Œç´„ 40 åˆ†é˜ã€‚</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-xl overflow-hidden euro-shadow mb-6">
                    <div class="bg-euro-primary p-3 text-white flex justify-between items-center">
                        <span class="font-bold">
                            <i class="fas fa-plane-arrival mr-2"></i>å›ç¨‹ (2/27)</span>
                        <span class="text-xs bg-white/20 px-2 py-1 rounded">ç´„ 16h</span>
                    </div>

                    <div class="p-5 border-b border-gray-100">
                        <div class="relative pl-6 pb-6 border-l-2 border-gray-200">
                            <div class="absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-euro-secondary border-2 border-white"></div>
                            <div class="flex justify-between mb-1">
                                <span class="font-bold text-xl">23:25 VIE</span>
                                <span class="text-gray-500 font-mono">OS 007</span>
                            </div>
                            <div class="text-sm text-gray-500">VIE T3
                                <i class="fas fa-long-arrow-alt-right mx-2"></i>
                                BKK
                            </div>
                        </div>
                        <div class="relative pl-6 pb-6 border-l-2 border-dashed border-gray-300">
                            <div class="absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-yellow-400 border-2 border-white"></div>
                            <div class="text-sm font-bold text-euro-secondary">æ›¼è°· (BKK) è½‰æ©Ÿ 2h 20m</div>
                        </div>
                        <div class="relative pl-6 border-l-2 border-gray-200">
                            <div class="absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-euro-secondary border-2 border-white"></div>
                            <div class="flex justify-between mb-1">
                                <span class="font-bold text-xl">17:50 BKK</span>
                                <span class="text-gray-500 font-mono">CI 836</span>
                            </div>
                            <div class="text-sm text-gray-500">BKK
                                <i class="fas fa-long-arrow-alt-right mx-2"></i>
                                TPE T1
                            </div>
                        </div>
                    </div>

                    <div class="bg-gray-50 p-5 space-y-4">
                        <div class="bg-white p-4 rounded-lg border border-gray-100 shadow-sm">
                            <h4 class="font-bold text-euro-primary mb-2 text-sm">
                                <i class="fas fa-shopping-bag mr-2"></i>ç¶­ä¹Ÿç´æ©Ÿå ´ (VIE) é›¢å¢ƒ</h4>
                            <ul class="text-xs text-gray-600 space-y-1 list-disc list-inside">
                                <li>
                                    <strong>äº¤é€šï¼š</strong>å¾ä¸­å¤®è»Šç«™æ­
                                    <strong>RJ (Railjet)</strong>
                                    ç›´é”æ©Ÿå ´æœ€å¿« (15åˆ†é˜)ã€‚</li>
                                <li>
                                    <strong>è³¼ç‰©ï¼š</strong>å¿…è²· Manner å¨åŒ–é¤…ã€è«æœ­ç‰¹å·§å…‹åŠ›ã€æ–½è¯æ´›ä¸–å¥‡ã€‚</li>
                                <li>
                                    <strong>é€€ç¨…ï¼š</strong>è«‹é ç•™ 3 å°æ™‚ï¼Œæµ·é—œè“‹ç« éšŠä¼é€šå¸¸å¾ˆé•·ã€‚</li>
                            </ul>
                        </div>
                        <div class="bg-white p-4 rounded-lg border border-gray-100 shadow-sm">
                            <h4 class="font-bold text-euro-primary mb-2 text-sm">
                                <i class="fas fa-spa mr-2"></i>æ›¼è°·è½‰æ©Ÿæ”»ç•¥</h4>
                            <ul class="text-xs text-gray-600 space-y-1 list-disc list-inside">
                                <li>
                                    <strong>ç¾é£Ÿï¼š</strong>è½‰æ©Ÿå€æœ‰ Mango Sticky Rice (èŠ’æœç³¯ç±³)ã€‚</li>
                                <li>
                                    <strong>æ”¾é¬†ï¼š</strong>è‹¥æ™‚é–“å……è£•ï¼Œå¯é«”é©—æ³°å¼è‚©é ¸æŒ‰æ‘©ã€‚</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div id="tab-plan" class="tab-content active">
                <div id="itinerary-list" class="space-y-6"></div>
            </div>

            <div id="tab-guide" class="tab-content">
                <h2 class="text-2xl font-bold text-center mb-4 text-euro-primary title-text">åŸå¸‚å°è¦½</h2>
                <p class="text-center text-xs text-gray-400 mb-6">é»æ“ŠåŸå¸‚å¡ç‰‡æŸ¥çœ‹è©³ç´°æ”»ç•¥</p>
                <div class="grid grid-cols-2 gap-4">
                    <div onclick="openCityModal('munich')" class="bg-white rounded-xl overflow-hidden euro-shadow cursor-pointer active:scale-95 transition group">
                        <div class="h-32 relative overflow-hidden">
                            <img src="./img/Munich.jpg" class="w-full h-full object-cover group-hover:scale-110 transition duration-700">
                            <div class="absolute bottom-0 w-full bg-gradient-to-t from-black/70 to-transparent p-2 pt-8">
                                <div class="text-white font-bold text-lg">æ…•å°¼é»‘</div>
                            </div>
                        </div>
                    </div>
                    <div onclick="openCityModal('salzburg')" class="bg-white rounded-xl overflow-hidden euro-shadow cursor-pointer active:scale-95 transition group">
                        <div class="h-32 relative overflow-hidden">
                            <img src="./img/Salzburg.jpg" class="w-full h-full object-cover group-hover:scale-110 transition duration-700">
                            <div class="absolute bottom-0 w-full bg-gradient-to-t from-black/70 to-transparent p-2 pt-8">
                                <div class="text-white font-bold text-lg">è–©çˆ¾æ–¯å ¡</div>
                            </div>
                        </div>
                    </div>
                    <div onclick="openCityModal('hallstatt')" class="bg-white rounded-xl overflow-hidden euro-shadow cursor-pointer active:scale-95 transition group">
                        <div class="h-32 relative overflow-hidden">
                            <img src="./img/Hallstatt.jpg" class="w-full h-full object-cover group-hover:scale-110 transition duration-700">
                            <div class="absolute bottom-0 w-full bg-gradient-to-t from-black/70 to-transparent p-2 pt-8">
                                <div class="text-white font-bold text-lg">å“ˆä¿®å¡”ç‰¹</div>
                            </div>
                        </div>
                    </div>
                    <div onclick="openCityModal('ck')" class="bg-white rounded-xl overflow-hidden euro-shadow cursor-pointer active:scale-95 transition group">
                        <div class="h-32 relative overflow-hidden">
                            <img src="./img/ck.jpg" class="w-full h-full object-cover group-hover:scale-110 transition duration-700">
                            <div class="absolute bottom-0 w-full bg-gradient-to-t from-black/70 to-transparent p-2 pt-8">
                                <div class="text-white font-bold text-lg">CKå°é®</div>
                            </div>
                        </div>
                    </div>
                    <div onclick="openCityModal('prague')" class="bg-white rounded-xl overflow-hidden euro-shadow cursor-pointer active:scale-95 transition group">
                        <div class="h-32 relative overflow-hidden">
                            <img src="./img/prague.jpg" class="w-full h-full object-cover group-hover:scale-110 transition duration-700">
                            <div class="absolute bottom-0 w-full bg-gradient-to-t from-black/70 to-transparent p-2 pt-8">
                                <div class="text-white font-bold text-lg">å¸ƒæ‹‰æ ¼</div>
                            </div>
                        </div>
                    </div>
                    <div onclick="openCityModal('budapest')" class="bg-white rounded-xl overflow-hidden euro-shadow cursor-pointer active:scale-95 transition group">
                        <div class="h-32 relative overflow-hidden">
                            <img src="./img/budapest.jpg" class="w-full h-full object-cover group-hover:scale-110 transition duration-700">
                            <div class="absolute bottom-0 w-full bg-gradient-to-t from-black/70 to-transparent p-2 pt-8">
                                <div class="text-white font-bold text-lg">å¸ƒé”ä½©æ–¯</div>
                            </div>
                        </div>
                    </div>
                    <div onclick="openCityModal('vienna')" class="bg-white rounded-xl overflow-hidden euro-shadow cursor-pointer active:scale-95 transition col-span-2 group">
                        <div class="h-32 relative overflow-hidden">
                            <img src="./img/vienna.jpg" class="w-full h-full object-cover group-hover:scale-110 transition duration-700">
                            <div class="absolute bottom-0 w-full bg-gradient-to-t from-black/70 to-transparent p-2 pt-8">
                                <div class="text-white font-bold text-lg">ç¶­ä¹Ÿç´</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="tab-lists" class="tab-content">
                <div class="bg-euro-card rounded-xl p-5 mb-6 euro-shadow border border-euro-light">
                    <h3 class="font-bold text-xl mb-4 text-euro-primary border-b border-gray-100 pb-2">è¡Œå‰æª¢æŸ¥è¡¨</h3>
                    <div id="checklist-container" class="space-y-3"></div>
                </div>
            </div>

            <div id="tab-info" class="tab-content">
                <h2 class="text-2xl font-bold text-center mb-6 text-euro-primary title-text">è³‡è¨Šä¸­å¿ƒ</h2>

                <div class="mb-8">
                    <h3 class="font-bold text-gray-700 mb-3 px-1">
                        <i class="fas fa-cloud-sun text-euro-secondary mr-2"></i>ç•¶åœ°å¤©æ°£</h3>
                    <div class="grid grid-cols-3 gap-2">
                        <a href="https://www.accuweather.com/zh-tw/de/munich/80331/weather-forecast/178086" target="_blank" class="bg-white p-3 rounded-lg text-center shadow-sm border border-gray-100 hover:border-euro-secondary transition">
                            <div class="text-xs text-gray-400">å¾·åœ‹</div>
                            <div class="font-bold text-euro-text">æ…•å°¼é»‘</div>
                        </a>
                        <a href="https://www.accuweather.com/zh-tw/at/salzburg/5020/weather-forecast/29272" target="_blank" class="bg-white p-3 rounded-lg text-center shadow-sm border border-gray-100 hover:border-euro-secondary transition">
                            <div class="text-xs text-gray-400">å¥§åœ°åˆ©</div>
                            <div class="font-bold text-euro-text">è–©çˆ¾æ–¯å ¡</div>
                        </a>
                        <a href="https://www.accuweather.com/zh-tw/cz/prague/125594/weather-forecast/125594" target="_blank" class="bg-white p-3 rounded-lg text-center shadow-sm border border-gray-100 hover:border-euro-secondary transition">
                            <div class="text-xs text-gray-400">æ·å…‹</div>
                            <div class="font-bold text-euro-text">å¸ƒæ‹‰æ ¼</div>
                        </a>
                        <a href="https://www.accuweather.com/zh-tw/hu/budapest/187423/weather-forecast/187423" target="_blank" class="bg-white p-3 rounded-lg text-center shadow-sm border border-gray-100 hover:border-euro-secondary transition">
                            <div class="text-xs text-gray-400">åŒˆç‰™åˆ©</div>
                            <div class="font-bold text-euro-text">å¸ƒé”ä½©æ–¯</div>
                        </a>
                        <a href="https://www.accuweather.com/zh-tw/at/vienna/1010/weather-forecast/31868" target="_blank" class="bg-white p-3 rounded-lg text-center shadow-sm border border-gray-100 hover:border-euro-secondary transition">
                            <div class="text-xs text-gray-400">å¥§åœ°åˆ©</div>
                            <div class="font-bold text-euro-text">ç¶­ä¹Ÿç´</div>
                        </a>
                    </div>
                </div>

                <div class="bg-white rounded-xl p-5 mb-8 euro-shadow border-l-4 border-euro-primary">
                    <h3 class="font-bold text-euro-primary mb-3 text-lg">
                        <i class="fas fa-shield-alt mr-2"></i>å¯Œé‚¦ç”¢éšªè³‡è¨Š</h3>
                    <div class="space-y-3 text-sm">
                        <div class="flex justify-between border-b border-gray-100 pb-2">
                            <span class="text-gray-500">ä¿å–®è™Ÿç¢¼</span>
                            <span class="font-mono font-bold">0500-1234ABCD (ç¯„ä¾‹)</span>
                        </div>
                        <div class="flex justify-between border-b border-gray-100 pb-2">
                            <span class="text-gray-500">æµ·å¤–ç·Šæ€¥æ•‘æ´</span>
                            <a href="tel:+886223459292" class="font-bold text-blue-600">+886-2-2345-9292</a>
                        </div>
                        <div class="bg-gray-50 p-3 rounded text-xs text-gray-600 leading-relaxed">
                            <strong class="text-gray-800">ç†è³ æé†’ï¼š</strong><br>
                            è‹¥é‡ç­æ©Ÿå»¶èª¤æˆ–è¡Œæéºå¤±ï¼Œè«‹å‹™å¿…ç´¢å–ã€Œèˆªç©ºå…¬å¸è­‰æ˜ã€ã€‚è‹¥é‡ç”Ÿç—…å°±é†«ï¼Œè«‹ä¿ç•™ã€Œè¨ºæ–·è­‰æ˜ã€èˆ‡ã€Œæ”¶æ“šæ­£æœ¬ã€ã€‚
                        </div>
                    </div>
                </div>

                <div class="bg-[#FFF5F5] rounded-xl p-5 mb-6 border border-red-100">
                    <h3 class="font-bold text-red-900 mb-4 text-lg">
                        <i class="fas fa-passport mr-2"></i>å°ç£é§å¤–è¾¦äº‹è™•</h3>

                    <div class="space-y-4">
                        <div>
                            <div class="font-bold text-red-900 text-sm mb-1">
                                <span class="mr-2">ğŸ‡©ğŸ‡ª</span>é§æ…•å°¼é»‘è¾¦äº‹è™• (å¾·åœ‹)
                            </div>
                            <div class="pl-6 text-sm text-gray-600">
                                <div class="mb-1">
                                    <i class="fas fa-phone-alt w-5 text-gray-400"></i>
                                    <a href="tel:+49895126790" class="underline">+49-89-5126-790</a>
                                </div>
                                <div class="text-xs bg-white p-2 rounded border border-red-50">æ€¥é›£æ•‘åŠ©ï¼š+49-175-570-8059</div>
                            </div>
                        </div>
                        <div>
                            <div class="font-bold text-red-900 text-sm mb-1">
                                <span class="mr-2">ğŸ‡¦ğŸ‡¹</span>é§å¥§åœ°åˆ©ä»£è¡¨è™• (ç¶­ä¹Ÿç´)
                            </div>
                            <div class="pl-6 text-sm text-gray-600">
                                <div class="mb-1">
                                    <i class="fas fa-phone-alt w-5 text-gray-400"></i>
                                    <a href="tel:+4312124720" class="underline">+43-1-212-4720</a>
                                </div>
                                <div class="text-xs bg-white p-2 rounded border border-red-50">æ€¥é›£æ•‘åŠ©ï¼š+43-664-345-0455</div>
                            </div>
                        </div>
                        <div>
                            <div class="font-bold text-red-900 text-sm mb-1">
                                <span class="mr-2">ğŸ‡¨ğŸ‡¿</span>é§æ·å…‹ä»£è¡¨è™• (å¸ƒæ‹‰æ ¼)
                            </div>
                            <div class="pl-6 text-sm text-gray-600">
                                <div class="mb-1">
                                    <i class="fas fa-phone-alt w-5 text-gray-400"></i>
                                    <a href="tel:+420233320606" class="underline">+420-233-320-606</a>
                                </div>
                                <div class="text-xs bg-white p-2 rounded border border-red-50">æ€¥é›£æ•‘åŠ©ï¼š+420-603-166-707</div>
                            </div>
                        </div>
                        <div>
                            <div class="font-bold text-red-900 text-sm mb-1">
                                <span class="mr-2">ğŸ‡­ğŸ‡º</span>é§åŒˆç‰™åˆ©ä»£è¡¨è™• (å¸ƒé”ä½©æ–¯)
                            </div>
                            <div class="pl-6 text-sm text-gray-600">
                                <div class="mb-1">
                                    <i class="fas fa-phone-alt w-5 text-gray-400"></i>
                                    <a href="tel:+3612662884" class="underline">+36-1-266-2884</a>
                                </div>
                                <div class="text-xs bg-white p-2 rounded border border-red-50">æ€¥é›£æ•‘åŠ©ï¼š+36-30-964-1601</div>
                            </div>
                        </div>
                    </div>

                    <div class="mt-4 pt-4 border-t border-red-200 text-center">
                        <span class="text-sm font-bold text-red-900">æ­ç›Ÿé€šç”¨æ€¥é›£é›»è©±ï¼š112</span>
                    </div>
                </div>
            </div>

        </main>

        <div id="cityModal" class="modal fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4">
            <div class="modal-content bg-white w-full max-w-md max-h-[85vh] rounded-2xl shadow-2xl relative flex flex-col overflow-hidden">

                <button onclick="closeModal('cityModal')" class="absolute top-3 right-3 bg-white/80 w-8 h-8 rounded-full flex items-center justify-center text-gray-600 hover:text-red-500 z-50 shadow-sm backdrop-blur-md transition-transform active:scale-90">
                    <i class="fas fa-times text-lg"></i>
                </button>

                <div id="modalBody" class="overflow-y-auto flex-1 overscroll-contain"></div>
            </div>
        </div>

        <div id="detailModal" class="modal fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4">
            <div class="modal-content bg-white w-full max-w-md max-h-[90vh] rounded-2xl shadow-2xl relative flex flex-col overflow-hidden">

                <div class="bg-euro-primary p-4 text-white flex justify-between items-center z-10 shrink-0">
                    <h3 class="font-bold text-lg tracking-wide" id="detailTitle">è©³ç´°è³‡è¨Š</h3>
                    <button onclick="closeModal('detailModal')" class="w-8 h-8 flex items-center justify-center rounded-full bg-white/20 hover:bg-white/30 transition">
                        <i class="fas fa-times text-lg"></i>
                    </button>
                </div>

                <div class="p-5 overflow-y-auto flex-1 bg-white">
                    <input type="hidden" id="detailId">

                    <div class="mb-6 bg-gray-50 p-4 rounded-xl border border-gray-100 shadow-sm">
                        <h4 class="font-bold text-gray-700 mb-3 text-sm flex items-center">
                            <i class="fas fa-ticket-alt mr-2 text-euro-secondary"></i>ç¥¨åˆ¸ / é›²ç«¯æª”æ¡ˆ
                        </h4>

                        <div id="staticLinksContainer" class="space-y-2 mb-4 empty:hidden"></div>

                        <div id="linkDivider" class="h-px bg-gray-200 my-4 hidden"></div>

                        <div class="text-xs text-gray-400 mb-2 font-bold">è‡ªè¨‚é€£çµåˆ—è¡¨ (æ¨™é¡Œ / ç¶²å€)</div>
                        <div id="customLinksContainer" class="space-y-3"></div>

                        <button onclick="addCustomLinkRow('', '')" class="mt-3 w-full py-2 border-2 border-dashed border-gray-300 text-gray-400 rounded-lg text-sm hover:border-euro-secondary hover:text-euro-secondary transition flex items-center justify-center">
                            <i class="fas fa-plus mr-1"></i>
                            æ–°å¢ä¸€çµ„é€£çµ
                        </button>
                    </div>

                    <div>
                        <h4 class="font-bold text-gray-700 mb-2 text-sm flex items-center">
                            <i class="fas fa-pen mr-2 text-euro-secondary"></i>å‚™è¨» / æ³¨æ„äº‹é …
                        </h4>
                        <textarea id="detailNote" class="w-full bg-gray-50 border border-gray-200 rounded-xl p-3 text-sm focus:outline-none focus:border-euro-secondary focus:ring-1 focus:ring-euro-secondary transition leading-relaxed text-gray-700" rows="5" placeholder="ä¾‹å¦‚ï¼šè¨‚ä½ä»£è™Ÿã€é›†åˆåœ°é»..."></textarea>
                    </div>
                </div>

                <div class="p-4 border-t border-gray-100 bg-gray-50 shrink-0">
                    <button onclick="saveDetail()" class="w-full bg-euro-primary text-white py-3 rounded-xl font-bold shadow-md hover:bg-opacity-90 active:scale-95 transition tracking-widest">
                        å„²å­˜ä¿®æ”¹
                    </button>
                </div>
            </div>
        </div>

        <nav class="fixed bottom-0 left-0 w-full bg-white/95 backdrop-blur-md border-t border-gray-100 px-2 py-2 flex justify-between items-center z-40 text-gray-400 pb-5">
            <button onclick="switchTab('plan')" class="nav-item active flex flex-col items-center gap-1 w-1/5" data-target="plan">
                <i class="fas fa-calendar-alt text-xl mb-0.5"></i>
                <span class="text-[10px]">è¡Œç¨‹</span>
            </button>
            <button onclick="switchTab('flight')" class="nav-item flex flex-col items-center gap-1 w-1/5" data-target="flight">
                <i class="fas fa-plane text-xl mb-0.5"></i>
                <span class="text-[10px]">èˆªç­</span>
            </button>
            <button onclick="switchTab('guide')" class="nav-item flex flex-col items-center gap-1 w-1/5" data-target="guide">
                <i class="fas fa-book-open text-xl mb-0.5"></i>
                <span class="text-[10px]">å°è¦½</span>
            </button>
            <button onclick="switchTab('lists')" class="nav-item flex flex-col items-center gap-1 w-1/5" data-target="lists">
                <i class="fas fa-check-square text-xl mb-0.5"></i>
                <span class="text-[10px]">æ¸…å–®</span>
            </button>
            <button onclick="switchTab('info')" class="nav-item flex flex-col items-center gap-1 w-1/5" data-target="info">
                <i class="fas fa-info-circle text-xl mb-0.5"></i>
                <span class="text-[10px]">è³‡è¨Š</span>
            </button>
        </nav>

        <script>
            // ================= ITINERARY DATA =================
            const itineraryData = [
                {
                    date: "2/11", day: "é€±ä¸‰", city: "æ…•å°¼é»‘", hotel: "Metropol by Maier Privathotels", 
                    hotelTicket: "https://drive.google.com/file/d/1STKYkF4877aFvAF0ABy_lfCr105BU1SZ/view?usp=drive_link",
                    startTime: "09:00", endTime: "20:30",
                    timeline: [
                        { id: "1100", time: "07:50", event: "æ¡ƒåœ’æ©Ÿå ´èµ·é£›", loc: "Taoyuan Airport", type: "flight", 
                            ticket: [
                                { name: "CHIUYUMEI_ä¸­æ–‡æ©Ÿç¥¨", url: "https://drive.google.com/file/d/1NztD-zBK_rpBpdplLjHrUUfG-hAWIH1X/view?usp=drive_link" },
                                { name: "CHIUYUMEI_è‹±æ–‡æ–‡æ©Ÿç¥¨", url: "https://drive.google.com/file/d/11p2VkumUkVSTNrDjiqcXPE1LrZDu2Fsv/view?usp=drive_link" },
                                { name: "WANGYUHSIN_ä¸­æ–‡æ©Ÿç¥¨", url: "https://drive.google.com/file/d/1F4U0oaiwsBl3RaeL6og7KRinJlZ3wigY/view?usp=drive_link" },
                                { name: "WANGYUHSIN_è‹±æ–‡æ©Ÿç¥¨", url: "https://drive.google.com/file/d/16Iynz2v5N6S1iwULO3IqsoXz_kfv3MFH/view?usp=drive_link" },
                            ],
                            note: "" },
                        { id: "1103", time: "11:20", event: "æŠµé”ä»å·æ©Ÿå ´", loc: "ä»å·åœ‹éš›æ©Ÿå ´", type: "flight", ticket: "", note: "å°ç£æ™‚é–“+1" },
                        { id: "1104", time: "13:30", event: "ä»å·æ©Ÿå ´èµ·é£›", loc: "ä»å·åœ‹éš›æ©Ÿå ´", type: "flight", ticket: "", note: "" },
                        { id: "1101", time: "18:35", event: "æŠµé”æ…•å°¼é»‘æ©Ÿå ´", loc: "MUC Airport", type: "flight", ticket: "", note: "" }                        
                    ]
                },
                {
                    date: "2/12", day: "é€±å››", city: "æ…•å°¼é»‘", hotel: "Metropol by Maier Privathotels", 
                    startTime: "09:00", endTime: "20:40",
                    timeline: [
                        { id: "1201", time: "09:00", event: "ç‘ªéº—äºå»£å ´", loc: "Marienplatz", type: "sight", ticket: "", note: "" },
                        { id: "1202", time: "12:00", event: "çš‡å®¶å•¤é…’å±‹åˆé¤", loc: "HofbrÃ¤uhaus MÃ¼nchen", type: "food", ticket: "", note: "" },
                        { id: "1203", time: "14:00", event: "æ…•å°¼é»‘ç‹å®®", loc: "Munich Residenz", type: "sight", ticket: "", note: "" }
                    ]
                },
                {
                    date: "2/13", day: "é€±äº”", city: "è–©çˆ¾æ–¯å ¡", hotel: "Altstadt Hotel Hofwirt", startTime: "09:00",
                    timeline: [
                        { id: "1301", time: "09:00", event: "æ­ç«è»Šå¾€è–©çˆ¾æ–¯å ¡", loc: "Munich Central Station", type: "transport", ticket: "", note: "è»Šç¥¨åœ¨ Apple Wallet" },
                        { id: "1302", time: "13:00", event: "èˆŠåŸå€æ¼«æ­¥", loc: "Getreidegasse", type: "sight", ticket: "", note: "" }
                    ]
                },
                {
                    date: "2/14", day: "é€±å…­", city: "è–©çˆ¾æ–¯å ¡", hotel: "Altstadt Hotel Hofwirt", startTime: "09:00", timeline: [
                        { id: "1401", time: "09:00", event: "ç±³æ‹‰è²çˆ¾å®®", loc: "Mirabell Palace", type: "sight", ticket: "", note: "" },
                        {
                            id: "1402", time: "11:45", event: "ä¸»æ•™å ‚éŸ³æ¨‚æœƒ", loc: "Salzburg Cathedral", type: "music",
                            ticket: [
                                { name: "é›»å­æ©Ÿç¥¨ (PDF)", url: "https://drive.google.com/..." },
                                { name: "é è¾¦ç™»æ©Ÿç¶²é ", url: "https://www.china-airlines.com/..." },
                                { name: "ä¿éšªå–®", url: "https://..." }
                            ],
                            note: "è«‹ææ—©15åˆ†é˜å…¥å ´"
                        },
                        { id: "1403", time: "20:00", event: "è¦å¡éŸ³æ¨‚æœƒ", loc: "Fortress Hohensalzburg", type: "music", ticket: "", note: "" }
                    ]
                },
                {
                    date: "2/15", day: "é€±æ—¥", city: "åœ‹ç‹æ¹–", hotel: "Altstadt Hotel Hofwirt", startTime: "09:00", timeline: [
                        { id: "1501", time: "08:30", event: "å·´å£«å¾€åœ‹ç‹æ¹–", loc: "Salzburg Hauptbahnhof", type: "transport", ticket: "", note: "ä½¿ç”¨ Salzburg Card" },
                        { id: "1502", time: "10:00", event: "åœ‹ç‹æ¹–éŠèˆ¹", loc: "KÃ¶nigssee", type: "sight", ticket: "", note: "" },
                        { id: "1503", time: "12:00", event: "ç´…è”¥é ­æ•™å ‚åˆé¤", loc: "St. Bartholomew's Church", type: "food", ticket: "", note: "" }
                    ]
                },
                {
                    date: "2/16", day: "é€±ä¸€", city: "å“ˆä¿®å¡”ç‰¹", hotel: "Heritage Hotel Hallstatt", startTime: "09:00", timeline: [
                        { id: "1601", time: "09:00", event: "å‰å¾€å“ˆä¿®å¡”ç‰¹", loc: "Hallstatt", type: "transport", ticket: "", note: "" },
                        { id: "1602", time: "11:00", event: "æ˜ä¿¡ç‰‡è§€æ™¯é»", loc: "Classic Village Viewpoint Hallstatt", type: "sight", ticket: "", note: "" },
                        { id: "1603", time: "14:00", event: "é¹½ç¤¦çºœè»Š", loc: "Salzwelten Hallstatt", type: "sight", ticket: "", note: "" }
                    ]
                },
                {
                    date: "2/17", day: "é€±äºŒ", city: "åº«å€«æ´›å¤«", hotel: "Hotel DvoÅ™Ã¡k ÄŒeskÃ½ Krumlov", startTime: "09:00", timeline: [
                        { id: "1701", time: "10:00", event: "åŒ…è»Šå‰å¾€ CK", loc: "ÄŒeskÃ½ Krumlov", type: "transport", ticket: "", note: "å¸æ©Ÿ Mr. Novak" },
                        { id: "1702", time: "13:00", event: "å½©ç¹ªå¡”", loc: "ÄŒeskÃ½ Krumlov Castle", type: "sight", ticket: "", note: "" }
                    ]
                },
                {
                    date: "2/18", day: "é€±ä¸‰", city: "å¸ƒæ‹‰æ ¼", hotel: "Art Deco Imperial Hotel", startTime: "09:00", timeline: [
                        { id: "1801", time: "13:00", event: "å‰å¾€å¸ƒæ‹‰æ ¼", loc: "Prague", type: "transport", ticket: "", note: "" },
                        { id: "1802", time: "17:00", event: "å¸åœ‹å’–å•¡é¤¨", loc: "CafÃ© Imperial", type: "food", ticket: "", note: "" }
                    ]
                },
                {
                    date: "2/19", day: "é€±å››", city: "å¸ƒæ‹‰æ ¼", hotel: "Grandium Hotel Prague", startTime: "09:00", timeline: [
                        { id: "1901", time: "09:00", event: "æŸ¥ç†å¤§æ©‹", loc: "Charles Bridge", type: "sight", ticket: "", note: "" },
                        { id: "1902", time: "10:30", event: "å¤©æ–‡é˜", loc: "Old Town Square", type: "sight", ticket: "", note: "" }
                    ]
                },
                {
                    date: "2/20", day: "é€±äº”", city: "å¸ƒæ‹‰æ ¼", hotel: "Grandium Hotel Prague", startTime: "09:00", timeline: [
                        { id: "2001", time: "09:00", event: "å¸ƒæ‹‰æ ¼åŸå ¡", loc: "Prague Castle", type: "sight", ticket: "", note: "" },
                        { id: "2002", time: "10:30", event: "è–ç¶­ç‰¹å¤§æ•™å ‚", loc: "St. Vitus Cathedral", type: "sight", ticket: "", note: "" }
                    ]
                },
                {
                    date: "2/21", day: "é€±å…­", city: "å¸ƒé”ä½©æ–¯", hotel: "Hotel NH Collection Budapest", startTime: "09:00", timeline: [
                        { id: "2101", time: "09:00", event: "ç«è»Šå¾€å¸ƒé”ä½©æ–¯", loc: "Prague Main Station", type: "transport", ticket: "", note: "" },
                        { id: "2102", time: "16:00", event: "ç´ç´„å’–å•¡é¤¨", loc: "New York CafÃ©", type: "food", ticket: "", note: "" }
                    ]
                },
                {
                    date: "2/22", day: "é€±æ—¥", city: "å¸ƒé”ä½©æ–¯", hotel: "Hotel NH Collection Budapest", startTime: "09:00", timeline: [
                        { id: "2201", time: "09:00", event: "è–ä¼Šä»€ç‰¹è¬è–æ®¿", loc: "St. Stephen's Basilica", type: "sight", ticket: "", note: "" },
                        { id: "2202", time: "18:00", event: "å¤šç‘™æ²³éŠèˆ¹", loc: "Danube River Budapest", type: "food", ticket: "", note: "" }
                    ]
                },
                {
                    date: "2/23", day: "é€±ä¸€", city: "å¸ƒé”ä½©æ–¯", hotel: "Novotel Budapest Danube", startTime: "09:00", timeline: [
                        { id: "2301", time: "09:00", event: "æ¼äººå ¡", loc: "Fisherman's Bastion", type: "sight", ticket: "", note: "" },
                        { id: "2302", time: "19:00", event: "åœ‹æœƒå¤§å»ˆå¤œæ™¯", loc: "Hungarian Parliament Building", type: "sight", ticket: "", note: "" }
                    ]
                },
                {
                    date: "2/24", day: "é€±äºŒ", city: "ç¶­ä¹Ÿç´", hotel: "Novotel Wien Hauptbahnhof", startTime: "09:00", timeline: [
                        { id: "2401", time: "09:00", event: "ç«è»Šå¾€ç¶­ä¹Ÿç´", loc: "Budapest Keleti", type: "transport", ticket: "", note: "" },
                        { id: "2402", time: "13:00", event: "ç†Šå¸ƒæœ—å®®", loc: "SchÃ¶nbrunn Palace", type: "sight", ticket: "", note: "" }
                    ]
                },
                {
                    date: "2/25", day: "é€±ä¸‰", city: "ç¶­ä¹Ÿç´", hotel: "Novotel Wien Hauptbahnhof", startTime: "09:00", timeline: [
                        { id: "2501", time: "09:00", event: "éœå¤«å ¡çš‡å®®", loc: "Hofburg", type: "sight", ticket: "", note: "" },
                        { id: "2502", time: "16:00", event: "ä¸­å¤®å’–å•¡é¤¨", loc: "CafÃ© Central", type: "food", ticket: "", note: "" }
                    ]
                },
                {
                    date: "2/26", day: "é€±å››", city: "ç¶­ä¹Ÿç´", hotel: "Novotel Wien Hauptbahnhof", startTime: "09:00", timeline: [
                        { id: "2601", time: "09:00", event: "ç™¾æ°´å…¬å¯“", loc: "Hundertwasserhaus", type: "sight", ticket: "", note: "" },
                        { id: "2602", time: "18:00", event: "ç¶­ä¹Ÿç´è‚‹æ’", loc: "Ribs of Vienna", type: "food", ticket: "", note: "" }
                    ]
                },
                {
                    date: "2/27", day: "é€±äº”", city: "è¿”ç¨‹", hotel: "é£›æ©Ÿä¸Š", startTime: "09:00", timeline: [
                        { id: "2701", time: "20:00", event: "å‰å¾€æ©Ÿå ´", loc: "Vienna International Airport", type: "transport", ticket: "", note: "" },
                        { id: "2702", time: "23:25", event: "æ­æ©Ÿè¿”å°", loc: "VIE Airport", type: "flight", ticket: "", note: "" }
                    ]
                }
            ];
    
            // ================= CITY GUIDE DATA =================
            const cityGuides = {
                munich: {
                    title: "æ…•å°¼é»‘ Munich",
                    img: "./img/Munich.jpg",
                    intro: "å¾·åœ‹å·´ä¼åˆ©äºé‚¦é¦–åºœï¼Œä¹Ÿæ˜¯å•¤é…’ç¯€çš„æ•…é„‰ã€‚é€™è£¡æœ‰å¤è€çš„å»ºç¯‰ã€è±ªé‚çš„è±¬è…³èˆ‡å•¤é…’ã€‚",
                    spots: ["ç‘ªéº—äºå»£å ´", "çš‡å®¶å•¤é…’å±‹", "æ…•å°¼é»‘ç‹å®®"],
                    food: ["å¾·åœ‹è±¬è…³ (Haxn)", "ç™½é¦™è…¸ (Weisswurst)", "ä¸€å…¬å‡å•¤é…’"],
                    shop: ["Rimowa è¡Œæç®±", "ç™¾éˆæ²¹ (China Oel)", "DMè—¥å¦"],
                    tips: "åœ°éµç¥¨é€²ç«™å‰å‹™å¿…åœ¨æ‰“ç¥¨æ©Ÿæ‰“å¡ï¼Œå¦å‰‡è¦–ç‚ºé€ƒç¥¨ã€‚"
                },
                salzburg: {
                    title: "è–©çˆ¾æ–¯å ¡ Salzburg",
                    img: "./img/Salzburg.jpg",
                    intro: "è«æœ­ç‰¹çš„æ•…é„‰ï¼Œä¹Ÿæ˜¯é›»å½±ã€ŠçœŸå–„ç¾ã€‹çš„æ‹æ”åœ°ã€‚æ•´å€‹èˆŠåŸå€å„ªé›…è€Œå……æ»¿è—è¡“æ°£æ¯ã€‚",
                    spots: ["ç±³æ‹‰è²çˆ¾å®®", "è–©çˆ¾æ–¯å ¡è¦å¡", "æ ¼ç‰¹èŠå¾·å··"],
                    food: ["è–©çˆ¾æ–¯å ¡èˆ’èŠ™è•¾ (Nockerl)", "Bosna å’–å“©é¦™è…¸å ¡"],
                    shop: ["è«æœ­ç‰¹å·§å…‹åŠ› (éŠ€è—è‰²åŒ…è£æœ€æ­£çµ±)", "å²©é¹½"],
                    tips: "è³¼è²· Salzburg Card éå¸¸åˆ’ç®—ï¼ŒåŒ…å«äº¤é€šèˆ‡æ™¯é»é–€ç¥¨ã€‚"
                },
                hallstatt: {
                    title: "å“ˆä¿®å¡”ç‰¹ Hallstatt",
                    img: "./img/Hallstatt.jpg",
                    intro: "è¢«è­½ç‚ºã€Œä¸–ç•Œæœ€ç¾å°é®ã€ï¼Œä¾å±±å‚æ°´ï¼Œå®›å¦‚ç«¥è©±ä»™å¢ƒã€‚",
                    spots: ["æ˜ä¿¡ç‰‡è§€æ™¯é»", "å¤è€é¹½ç¤¦", "äººéª¨æ•™å ‚"],
                    food: ["çƒ¤é±’é­š (ä¾†è‡ªå“ˆä¿®å¡”ç‰¹æ¹–)", "å¥¶æ²¹æ²"],
                    shop: ["æ‰‹å·¥é¹½ç½", "æœ¨è£½å·¥è—å“"],
                    tips: "éŠå®¢éå¸¸å¤šï¼Œå»ºè­°æ¸…æ™¨æˆ–å‚æ™šæ•£æ­¥æœ€èˆ’æœã€‚"
                },
                ck: {
                    title: "åº«å€«æ´›å¤« CK",
                    img: "./img/ck.jpg",
                    intro: "æ³¢è¥¿ç±³äºç«¥è©±å°é®ã€‚ä¼çˆ¾å¡”ç“¦æ²³å‘ˆSå‹èœ¿èœ’æµéï¼Œæ©˜ç´…è‰²çš„å±‹é ‚æ˜¯é€™è£¡çš„æ¨™èªŒã€‚",
                    spots: ["å½©ç¹ªå¡”", "åŸå ¡æ©‹å»Š", "åœ°çª–é¤å»³"],
                    food: ["åœ°çª–çƒ¤è‚‰", "è‚‰æ¡‚ç…™å›ªæ² (TrdelnÃ­k)"],
                    shop: ["è ä¸¹å¦® (Botanicus) æ‰‹å·¥çš‚", "åˆºèŸç­†"],
                    tips: "å…¨åŸéƒ½æ˜¯çŸ³æ¿è·¯ï¼Œéå¸¸é›£æ‹–è¡Œæï¼Œè«‹è¼•è£ç°¡è¡Œã€‚"
                },
                prague: {
                    title: "å¸ƒæ‹‰æ ¼ Prague",
                    img: "./img/prague.jpg",
                    intro: "æ·å…‹é¦–éƒ½ï¼Œåƒå¡”ä¹‹åŸã€‚æ“æœ‰å¤è€çš„æ©‹æ¨‘ã€æ•™å ‚å’Œé‡‘è‰²å¡”æ¨“ã€‚",
                    spots: ["æŸ¥ç†å¤§æ©‹", "å¤©æ–‡é˜", "å¸ƒæ‹‰æ ¼åŸå ¡"],
                    food: ["çƒ¤é´¨ä½ç´«ç”˜è—", "çš®çˆ¾æ£®å•¤é…’"],
                    shop: ["æ›¼è²è˜¿ (Manufaktura) å•¤é…’èŠ±ä¿é¤Šå“", "æ°´æ™¶ç»ç’ƒ"],
                    tips: "äººå¤šçš„åœ°æ–¹(å¦‚æŸ¥ç†å¤§æ©‹)è«‹å‹™å¿…å°‡èƒŒåŒ…èƒŒåœ¨å‰é¢ï¼Œå°å¿ƒæ‰’æ‰‹ã€‚"
                },
                budapest: {
                    title: "å¸ƒé”ä½©æ–¯ Budapest",
                    img: "./img/budapest.jpg",
                    intro: "å¤šç‘™æ²³æ˜ç ï¼Œç”±å¸ƒé”èˆ‡ä½©æ–¯çµ„æˆã€‚å¤œæ™¯é‡‘ç¢§è¼ç…Œï¼Œè¢«è­½ç‚ºæ­æ´²æœ€ç¾ã€‚",
                    spots: ["æ¼äººå ¡", "åœ‹æœƒå¤§å»ˆ", "å¡åˆ‡å°¼æº«æ³‰"],
                    food: ["åŒˆç‰™åˆ©ç‰›è‚‰æ¹¯ (Goulash)", "éµè‚æ–™ç†"],
                    shop: ["ç´…æ¤’ç²‰ (Paprika)", "è²´è…é…’ (Tokaji)"],
                    tips: "åœ°éµæ‰‹æ‰¶æ¢¯é€Ÿåº¦éå¸¸å¿«ï¼Œæ­ä¹˜æ™‚è«‹æ¡ç·Šæ‰¶æ‰‹ã€‚"
                },
                vienna: {
                    title: "ç¶­ä¹Ÿç´ Vienna",
                    img: "./img/vienna.jpg",
                    intro: "å¥§åœ°åˆ©é¦–éƒ½ï¼Œæ˜”æ—¥å“ˆå¸ƒæ–¯å ¡ç‹æœä¸­å¿ƒã€‚å……æ»¿çš‡å®¶æ°£æ´¾èˆ‡å’–å•¡æ–‡åŒ–ã€‚",
                    spots: ["éœå¤«å ¡", "ç†Šå¸ƒæœ—å®®", "ä¸­å¤®å’–å•¡é¤¨"],
                    food: ["ç¶­ä¹Ÿç´ç‚¸ç‰›æ’ (Schnitzel)", "è–©èµ«è›‹ç³• (Sacher Torte)"],
                    shop: ["Manner å¨åŒ–é¤…", "å°ç´…å¸½å’–å•¡è±†"],
                    tips: "é€±æ—¥å•†åº—å¹¾ä¹å…¨é—œï¼Œæ¡è²·è«‹é¿é–‹é€±æ—¥ã€‚"
                }
            };
    
            const defaultChecklist = [
                { id: 1, text: "è­·ç…§ (æ•ˆæœŸ>6å€‹æœˆ)", done: false },
                { id: 2, text: "æ­å…ƒç¾é‡‘/ä¿¡ç”¨å¡", done: false },
                { id: 3, text: "ç¶²å¡/E-SIM", done: false },
                { id: 4, text: "è½‰æ¥é ­(é›™åœ“å­”)", done: false },
                { id: 5, text: "å¸¸å‚™è—¥å“", done: false }
            ];
    
            // ================= INIT & UTILS =================
            document.addEventListener('DOMContentLoaded', function () {
                // 1. åˆå§‹åŒ–åŠŸèƒ½
                renderItinerary();
                loadChecklist();
                
                // 2. åˆå§‹å®šä½åˆ°ä»Šæ—¥è¡Œç¨‹
                scrollToToday();

                // 3. æ™‚é–“å³æ™‚æ›´æ–°é‚è¼¯ (æ¯ç§’æ›´æ–°)
                function updateClock() {
                    const now = new Date();
                    
                    // è¨­å®šæ™‚é–“æ ¼å¼ï¼šæœˆ/æ—¥ æ™‚:åˆ†:ç§’
                    const options = { 
                        month: 'numeric', 
                        day: 'numeric', 
                        hour: '2-digit', 
                        minute: '2-digit', 
                        second: '2-digit',
                        hour12: false 
                    };

                    // A. å–å¾—ç•¶åœ°æ™‚é–“ (æ‰‹æ©Ÿç›®å‰æ™‚å€)
                    const localTimeStr = now.toLocaleString('zh-TW', options);

                    // B. å–å¾—å°ç£æ™‚é–“ (å¼·åˆ¶é–å®š Asia/Taipei)
                    const twTimeStr = now.toLocaleString('zh-TW', { ...options, timeZone: 'Asia/Taipei' });

                    // C. å¯«å…¥ HTML
                    const dateElement = document.getElementById('headerDate');
                    
                    // è¨­å®šå®¹å™¨æ’ç‰ˆï¼šé å³å°é½Š (items-end)ã€å‚ç›´æ’åˆ— (flex-col)
                    dateElement.className = "flex flex-col items-end justify-center";
                    
                    // è¨­å®šå…§å®¹ï¼šå…©è¡Œå­—é«”å¤§å°çš†ç‚º text-xs (ç´„12px)ï¼Œä¸¦åŠ ä¸Šç­‰å¯¬å­—é«” font-mono é˜²æ­¢æ•¸å­—è·³å‹•
                    dateElement.innerHTML = `
                        <div class="text-xs font-bold text-gray-600 font-mono text-right">ç•¶åœ° ${localTimeStr}</div>
                        <div class="text-xs text-gray-400 font-mono text-right">å°ç£ ${twTimeStr}</div>
                    `;
                }

                // ç«‹å³åŸ·è¡Œä¸€æ¬¡ï¼Œé¿å…å‰›è¼‰å…¥æ™‚æœ‰ç©ºçª—æœŸ
                updateClock();

                // è¨­å®šè¨ˆæ™‚å™¨ï¼Œæ¯ 1000 æ¯«ç§’ (1ç§’) æ›´æ–°ä¸€æ¬¡
                setInterval(updateClock, 1000);
            });
            
            function switchTab(tabId) {
                document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
                document.getElementById('tab-' + tabId).classList.add('active');
                document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
                document.querySelector(`.nav-item[data-target="${tabId}"]`).classList.add('active');
                // å¦‚æœæ˜¯åˆ‡æ›åˆ°è¡Œç¨‹è¡¨ï¼Œå‰‡è‡ªå‹•æ²å‹•
                if (tabId === 'plan') {
                    scrollToToday();
                } else {
                    window.scrollTo(0, 0);
                }
            }
    
            function getMapLinkHtml(name) {
                const query = encodeURIComponent(name);
                const url = `https://www.google.com/maps/search/?api=1&query=${query}`;
                return `<a href="${url}" target="_blank" class="map-link inline-flex items-center justify-center text-euro-link ml-1.5 hover:text-euro-primary transition-transform"><i class="fas fa-map-marker-alt text-base"></i></a>`;
            }
    
            // ================= PLAN RENDERING =================
            function renderItinerary() {
                const container = document.getElementById('itinerary-list');
                let html = '';
                
                itineraryData.forEach((item, index) => {
                    let timelineNodes = [];
                    
                    // å–å¾—è©²æ—¥è¨­å®šçš„ èµ·è¨–æ™‚é–“ (è‹¥ç„¡è¨­å®šï¼Œçµ¦äºˆé è¨­å€¼)
                    const departureTime = item.startTime || "09:00";
                    const returnTime = item.endTime || "20:00";

                    // 1. é‚è¼¯ï¼šè‡ªå‹•åŠ å…¥ã€Œå¾é£¯åº—å‡ºç™¼ã€ 
                    // æ¢ä»¶ï¼šä¸æ˜¯ç¬¬ä¸€å¤© (index > 0) ä¸” ç¬¬ä¸€å€‹è¡Œç¨‹ä¸æ˜¯ã€Œèµ·é£›ã€
                    if (index > 0 && !item.timeline[0].event.includes("èµ·é£›")) {
                        const prevHotel = itineraryData[index - 1].hotel;
                        timelineNodes.push({
                            id: "start_" + item.date.replace('/',''),
                            time: departureTime, // è®€å– startTime
                            event: `å¾ ${prevHotel} å‡ºç™¼`,
                            loc: prevHotel, 
                            type: "hotel_start",
                            ticket: "", note: ""
                        });
                    }
                    
                    // 2. åŠ å…¥ä¸»è¦è¡Œç¨‹äº‹ä»¶
                    timelineNodes = timelineNodes.concat(item.timeline);
                    
                    // 3. é‚è¼¯ï¼šè‡ªå‹•åŠ å…¥ã€Œå›åˆ°é£¯åº—ã€ 
                    // æ¢ä»¶ï¼šæœ€å¾Œä¸€å€‹è¡Œç¨‹ä¸æ˜¯ã€Œæ­æ©Ÿã€
                    if (!item.timeline[item.timeline.length-1].event.includes("æ­æ©Ÿ")) {
                        timelineNodes.push({
                            id: "end_" + item.date.replace('/',''),
                            time: returnTime, // è®€å– endTime
                            event: `å›åˆ° ${item.hotel}`, 
                            loc: item.hotel, 
                            type: "hotel_end",
                            ticket: "", note: ""
                        });
                    }

                    // 4. æ¸²æŸ“æ™‚é–“è»¸é …ç›®
                    let timelineHtml = '';
                    timelineNodes.forEach((event, idx) => {
                        const isLast = idx === timelineNodes.length - 1;
                        
                        // è¨­å®šåœ–ç¤º
                        let icon = 'fa-circle';
                        if (event.type === 'flight') icon = 'fa-plane';
                        if (event.type === 'food') icon = 'fa-utensils';
                        if (event.type === 'hotel' || event.type === 'hotel_end') icon = 'fa-bed';
                        if (event.type === 'hotel_start') icon = 'fa-walking';
                        if (event.type === 'transport') icon = 'fa-train';
                        if (event.type === 'music') icon = 'fa-music';
                        if (event.type === 'sight') icon = 'fa-camera';

                        // === æª¢æŸ¥é€£çµåœ–ç¤º ===
                        const hasStaticLink = !!event.ticket;
                        
                        const customLinksRaw = localStorage.getItem('ticket_custom_links_' + event.id);
                        let hasCustomLink = false;
                        if (customLinksRaw && customLinksRaw !== '[]') {
                            hasCustomLink = true;
                        }
                        
                        const showLinkIcon = hasStaticLink || hasCustomLink;
                        const linkIconHtml = showLinkIcon ? '<i class="fas fa-link text-euro-secondary ml-1.5 text-xs"></i>' : '';

                        // === æª¢æŸ¥å‚™è¨»åœ–ç¤º ===
                        const localNote = localStorage.getItem('ticket_note_' + event.id);
                        const staticNote = event.note || "";
                        
                        // åªè¦ã€Œè‡ªè¨‚å‚™è¨»ã€æœ‰å­—ï¼Œæˆ–è€…ã€Œé è¨­å‚™è¨»ã€æœ‰å­—ï¼Œå°±é¡¯ç¤ºåœ–ç¤º
                        const showNoteIcon = (localNote && localNote.trim() !== "") || (staticNote.trim() !== "");
                        const noteIconHtml = showNoteIcon ? '<i class="fas fa-sticky-note text-gray-400 ml-1.5 text-xs"></i>' : '';


                        // åœ°åœ–é€£çµ
                        const mapIconHtml = getMapLinkHtml(event.loc);
                        
                        // åˆ¤æ–·æ˜¯å¦é¡¯ç¤ºã€Œæ˜ç´°ã€æŒ‰éˆ•
                        const showBtn = (event.type !== 'hotel_start');
                        const eventId = event.id;

                        timelineHtml += `
                        <div class="flex gap-3 relative">
                            ${!isLast ? '<div class="absolute left-3.5 top-8 bottom-[-12px] w-0.5 bg-gray-200 z-0"></div>' : ''}
                            <div class="relative z-10 w-7 h-7 flex-shrink-0 bg-euro-bg border border-euro-secondary rounded-full flex items-center justify-center text-euro-secondary text-xs">
                                <i class="fas ${icon}"></i>
                            </div>
                            <div class="flex-1 pb-6">
                                <span class="text-xs font-bold text-gray-400 font-mono bg-gray-100 px-1 rounded inline-block mb-1">
                                    ${event.time}
                                </span>
                                <div class="flex justify-between items-start gap-2">
                                    <h4 class="text-base font-bold text-gray-800 leading-tight">
                                        ${event.event} ${mapIconHtml} ${linkIconHtml} ${noteIconHtml}
                                    </h4>
                                    
                                    ${ showBtn ? 
                                    `<button onclick="openDetailModal('${eventId}', '${event.event}')" class="text-xs border border-euro-primary text-euro-primary px-2 py-0.5 rounded hover:bg-euro-primary hover:text-white transition flex-shrink-0 whitespace-nowrap self-start mt-0.5">
                                        æ˜ç´°
                                    </button>` 
                                    : ''}
                                </div>
                            </div>
                        </div>`;
                    });

                    const hotelMapLinkHtml = getMapLinkHtml(item.hotel);
                    const cardId = `card-${item.date.replace('/', '-')}`;

                    html += `
                    <div id="${cardId}" class="bg-white rounded-xl euro-shadow overflow-hidden">
                        <div class="bg-euro-primary/5 p-4 border-b border-euro-light flex justify-between items-center">
                            <div class="flex items-center gap-3">
                                <div class="bg-euro-secondary text-white rounded-lg px-3 py-1 text-center min-w-[55px]">
                                    <div class="text-xs font-light uppercase">Feb</div>
                                    <div class="text-lg font-bold font-serif leading-none">${item.date.split('/')[1]}</div>
                                </div>
                                <div>
                                    <h3 class="font-bold text-lg text-euro-text">${item.city}</h3>
                                    <div class="text-xs text-gray-500">${item.day}</div>
                                </div>
                            </div>
                            <div class="text-xs text-gray-600 font-bold flex items-center bg-white px-3 py-1.5 rounded-full border border-gray-100 shadow-sm">
                            <i class="fas fa-bed mr-1.5 text-euro-secondary"></i> ${item.hotel.split(' ')[0]} ${hotelMapLinkHtml}
                            </div>
                        </div>
                        <div class="p-5 pt-6">
                            ${timelineHtml}
                        </div>
                    </div>`;
                });
                container.innerHTML = html;
            }

            // ================= MODALS =================
            let currentDetailId = null;
    
            function openDetailModal(id, title) {
                currentDetailId = id;
                document.getElementById('detailTitle').innerText = title;
                document.getElementById('detailId').value = id;
                
                // --- 1. è®€å–éœæ…‹è³‡æ–™ (å„ªå…ˆåˆ¤å®šæ˜¯å¦ç‚ºè‡ªå‹•ç”Ÿæˆçš„é£¯åº—ç¯€é») ---
                let staticData = { ticket: "", note: "" };
                
                itineraryData.forEach(day => {
                    const dayIdStr = day.date.replace('/', '');
                    
                    // æª¢æŸ¥æ˜¯å¦ç‚ºè©²å¤©çš„ã€Œå›åˆ°é£¯åº—ã€ ID (æ ¼å¼: end_211)
                    if (id === "end_" + dayIdStr) {
                        staticData = {
                            ticket: day.hotelTicket || "",
                            note: day.hotelNote || ""
                        };
                    } else {
                        // å¦å‰‡åœ¨ä¸€èˆ¬çš„ timeline æ‰¾ ID
                        const found = day.timeline.find(t => t.id === id);
                        if (found) staticData = found;
                    }
                });

                // --- 2. è™•ç†å‚™è¨»å…§å®¹ (LocalStorage å„ªå…ˆ) ---
                const savedNote = localStorage.getItem('ticket_note_' + id);
                if (savedNote !== null && savedNote.trim() !== "") {
                    document.getElementById('detailNote').value = savedNote;
                } else {
                    document.getElementById('detailNote').value = staticData.note || "";
                }

                // --- 3. è™•ç†éœæ…‹é è¨­ç¥¨åˆ¸é¡¯ç¤º ---
                const staticContainer = document.getElementById('staticLinksContainer');
                staticContainer.innerHTML = '';
                let hasStatic = false;

                if (staticData.ticket) {
                    // æ”¯æ´å­—ä¸²æˆ–é™£åˆ—æ ¼å¼
                    const tickets = Array.isArray(staticData.ticket) ? staticData.ticket : [{name: "é£¯åº—æ†‘è­‰/ç¥¨åˆ¸", url: staticData.ticket}];
                    tickets.forEach(t => {
                        const btn = document.createElement('a');
                        btn.href = t.url;
                        btn.target = "_blank";
                        btn.className = "flex items-center justify-center w-full bg-euro-light/50 text-euro-text border border-euro-light py-2 rounded-lg hover:bg-euro-secondary hover:text-white transition shadow-sm text-sm font-bold mb-2";
                        btn.innerHTML = `<i class="fas fa-hotel mr-2 text-xs"></i> ${t.name || "æŸ¥çœ‹æ†‘è­‰"}`;
                        staticContainer.appendChild(btn);
                    });
                    hasStatic = true;
                }

                // --- 4. è™•ç†è‡ªè¨‚é€£çµ (è¼¸å…¥æ¡†) ---
                const customContainer = document.getElementById('customLinksContainer');
                customContainer.innerHTML = '';
                const rawLinks = localStorage.getItem('ticket_custom_links_' + id);
                let customLinks = [];
                try {
                    customLinks = rawLinks ? JSON.parse(rawLinks) : [];
                } catch (e) { console.error(e); }

                customLinks.forEach(link => addCustomLinkRow(link.title, link.url));

                // æ§åˆ¶åˆ†éš”ç·šèˆ‡é è¨­è¼¸å…¥æ¡†
                const divider = document.getElementById('linkDivider');
                if (hasStatic) {
                    divider.classList.remove('hidden');
                } else {
                    divider.classList.add('hidden');
                    if(customLinks.length === 0) addCustomLinkRow('', '');
                }

                document.getElementById('detailModal').classList.add('open');
            }
            
            // è¼”åŠ©å‡½å¼ï¼šæ–°å¢ä¸€è¡Œè‡ªè¨‚é€£çµè¼¸å…¥æ¡†
            function addCustomLinkRow(title = '', url = '') {
                const container = document.getElementById('customLinksContainer');
                const div = document.createElement('div');
                div.className = "custom-link-row flex gap-2 items-start animate-fade-in";
                div.innerHTML = `
                    <div class="flex-1 space-y-1">
                        <input type="text" class="link-title w-full bg-white border border-gray-300 rounded px-2 py-1.5 text-xs focus:outline-none focus:border-euro-secondary placeholder-gray-400" placeholder="åç¨± (ä¾‹: é¤å»³è¨‚ä½)" value="${title}">
                        <input type="text" class="link-url w-full bg-white border border-gray-300 rounded px-2 py-1.5 text-xs focus:outline-none focus:border-euro-secondary text-blue-600 placeholder-gray-400" placeholder="ç¶²å€ (https://...)" value="${url}">
                    </div>
                    <button onclick="this.parentElement.remove()" class="mt-1 w-8 h-8 flex items-center justify-center text-gray-400 hover:text-red-500 hover:bg-red-50 rounded transition">
                        <i class="fas fa-trash-alt"></i>
                    </button>
                `;
                container.appendChild(div);
            }
    
            // å„²å­˜å‡½å¼
            function saveDetail() {
                // 1. å„²å­˜å‚™è¨»
                localStorage.setItem('ticket_note_' + currentDetailId, document.getElementById('detailNote').value);
    
                // 2. å„²å­˜è‡ªè¨‚é€£çµ (æ”¶é›†æ‰€æœ‰è¼¸å…¥æ¡†)
                const rows = document.querySelectorAll('.custom-link-row');
                const links = [];
    
                rows.forEach(row => {
                    const title = row.querySelector('.link-title').value.trim();
                    const url = row.querySelector('.link-url').value.trim();
    
                    // åªæœ‰ç•¶æ¨™é¡Œæˆ–ç¶²å€æœ‰å¡«å¯«æ™‚æ‰å„²å­˜
                    if (title || url) {
                        links.push({
                            title: title || "æœªå‘½åé€£çµ", // é è¨­æ¨™é¡Œ
                            url: url
                        });
                    }
                });
    
                localStorage.setItem('ticket_custom_links_' + currentDetailId, JSON.stringify(links));
    
                closeModal('detailModal');
                renderItinerary(); // æ›´æ–°åˆ—è¡¨ä¸Šçš„åœ–ç¤º
                alert('å„²å­˜æˆåŠŸ');
            }
    
            function clearLink() {
                localStorage.setItem('ticket_link_' + currentDetailId, "");
                document.getElementById('linkDisplayArea').classList.add('hidden');
                document.getElementById('linkInputArea').classList.remove('hidden');
                document.getElementById('ticketLinkInput').value = '';
            }
    
    
            function openCityModal(cityKey) {
                const data = cityGuides[cityKey];
                const modalBody = document.getElementById('modalBody');
                if (!data) return;
    
                // Helper to generate list items
                const renderList = (arr, icon) => arr ? arr.map(s => `<li class="mb-1"><i class="fas ${icon} text-euro-secondary text-xs mr-2"></i>${s}</li>`).join('') : '';
    
                modalBody.innerHTML = `
                    <div class="h-48 relative">
                        <img src="${data.img}" class="w-full h-full object-cover rounded-t-2xl">
                        <div class="absolute bottom-0 left-0 w-full bg-gradient-to-t from-black/80 to-transparent p-4 pt-12">
                            <h2 class="text-2xl font-bold text-white serif-font">${data.title}</h2>
                        </div>
                    </div>
    
                    <div class="p-6">
                        <p class="text-gray-600 leading-relaxed mb-6 text-justify text-sm">${data.intro}</p>
                        
                        <div class="space-y-4">
                            <div class="bg-gray-50 p-3 rounded-lg border-l-4 border-euro-primary">
                                <h4 class="font-bold text-gray-800 text-sm mb-2">å¿…è¨ªæ™¯é»</h4>
                                <ul class="text-sm text-gray-600">${renderList(data.spots, 'fa-check')}</ul>
                            </div>
                            <div class="bg-orange-50 p-3 rounded-lg border-l-4 border-orange-300">
                                <h4 class="font-bold text-gray-800 text-sm mb-2">ç¾é£Ÿæ¨è–¦</h4>
                                <ul class="text-sm text-gray-600">${renderList(data.food, 'fa-utensils')}</ul>
                            </div>
                            <div class="bg-blue-50 p-3 rounded-lg border-l-4 border-blue-300">
                                <h4 class="font-bold text-gray-800 text-sm mb-2">å¿…è²·è³¼ç‰©</h4>
                                <ul class="text-sm text-gray-600">${renderList(data.shop, 'fa-shopping-bag')}</ul>
                            </div>
                        </div>
    
                        <div class="mt-4 text-xs text-gray-500 bg-euro-light/30 p-3 rounded flex items-start">
                            <i class="fas fa-exclamation-circle mr-2 mt-0.5 text-euro-secondary"></i>
                            <span>${data.tips}</span>
                        </div>
    
                        <div class="mt-6 pt-4 border-t border-gray-100">
                            <button onclick="closeModal('cityModal')" class="w-full bg-gray-100 text-gray-500 text-sm font-medium py-3 rounded-lg hover:bg-gray-200 transition active:scale-95 tracking-wide">
                                é—œé–‰å°è¦½
                            </button>
                        </div>
                    </div>`;
    
                document.getElementById('cityModal').classList.add('open');
            }
    
            function closeModal(modalId) { document.getElementById(modalId).classList.remove('open'); }
    
            // ================= CHECKLIST =================
            function loadChecklist() {
                let data = JSON.parse(localStorage.getItem('trip_checklist')) || defaultChecklist;
                const container = document.getElementById('checklist-container');
                container.innerHTML = '';
                data.forEach((item, index) => {
                    const checked = item.done ? 'checked' : '';
                    const style = item.done ? 'line-through text-gray-300' : 'text-gray-700';
                    const div = document.createElement('div');
                    div.className = "flex items-center gap-3 py-2 border-b border-gray-50 last:border-0";
                    div.innerHTML = `<input type="checkbox" ${checked} class="w-5 h-5 rounded text-euro-secondary focus:ring-euro-secondary" onchange="toggleCheck(${index})"><span class="${style} flex-1">${item.text}</span>`;
                    container.appendChild(div);
                });
            }
            function toggleCheck(index) {
                let data = JSON.parse(localStorage.getItem('trip_checklist')) || defaultChecklist;
                data[index].done = !data[index].done;
                localStorage.setItem('trip_checklist', JSON.stringify(data));
                loadChecklist();
            }
            function scrollToToday() {
                // 1. å–å¾—ä»Šå¤©çš„æ—¥æœŸå­—ä¸² (æ ¼å¼è¦è·Ÿ ID ä¸€æ¨£ï¼Œä¾‹å¦‚ 2-7)
                const now = new Date();
                const month = now.getMonth() + 1;
                const date = now.getDate();
    
                // ç‚ºäº†æ¸¬è©¦ï¼Œæ‚¨å¯ä»¥æš«æ™‚æŠŠä¸‹æ–¹é€™è¡Œè§£é™¤è¨»è§£ï¼Œå¼·åˆ¶è¨­å®šæˆè¡Œç¨‹ä¸­æœ‰çš„æ—¥æœŸ
                // const month = 2; const date = 14; 
    
                const todayId = `card-${month}-${date}`;
                const todayElement = document.getElementById(todayId);
    
                if (todayElement) {
                    // 2. ä½¿ç”¨ setTimeout ç¢ºä¿ç•«é¢å·²ç¶“æ¸²æŸ“å®Œæˆ (éå¸¸é‡è¦)
                    setTimeout(() => {
                        // 3. æ‰‹å‹•è¨ˆç®—ä½ç½®
                        // å–å¾—å…ƒä»¶è·é›¢é é¢é ‚ç«¯çš„è·é›¢
                        const elementPosition = todayElement.getBoundingClientRect().top + window.scrollY;
    
                        // æ‰£é™¤ Header çš„é«˜åº¦ (ç´„ 80px) å†å¤šç•™ä¸€é»ç©ºé–“ (20px) = 100px
                        const offsetPosition = elementPosition - 100;
    
                        // 4. åŸ·è¡Œæ²å‹•
                        window.scrollTo({
                            top: offsetPosition,
                            behavior: "smooth"
                        });
                    }, 100); // å»¶é² 100 æ¯«ç§’ï¼Œçµ¦ç€è¦½å™¨ä¸€é»æ™‚é–“å–˜æ¯
                } else {
                    console.log("æ‰¾ä¸åˆ°ä»Šå¤©çš„è¡Œç¨‹å¡ç‰‡: " + todayId);
                }
            }
        </script>
    </body>
    
</html>

